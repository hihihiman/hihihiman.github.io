<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>🚩JVM与GC -</title><meta name=author content="都将会"><meta name=author-link content><meta name=description content="Java 进阶必经之路"><meta name=keywords content="JVM,Java,interview,面试"><meta itemprop=name content="🚩JVM与GC"><meta itemprop=description content="Java 进阶必经之路"><meta itemprop=datePublished content="2023-04-08T08:08:08+08:00"><meta itemprop=dateModified content="2023-04-08T08:08:08+08:00"><meta itemprop=wordCount content="2569"><meta itemprop=image content="https://leni.fun/images/avatar.jpg"><meta itemprop=keywords content="Java,"><meta property="og:title" content="🚩JVM与GC"><meta property="og:description" content="Java 进阶必经之路"><meta property="og:type" content="article"><meta property="og:url" content="https://leni.fun/jvm%E4%B8%8Egc/"><meta property="og:image" content="https://leni.fun/images/avatar.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-08T08:08:08+08:00"><meta property="article:modified_time" content="2023-04-08T08:08:08+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://leni.fun/images/avatar.jpg"><meta name=twitter:title content="🚩JVM与GC"><meta name=twitter:description content="Java 进阶必经之路"><meta name=application-name content="都将会的 APP"><meta name=apple-mobile-web-app-title content="都将会的 APP"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://leni.fun/jvm%E4%B8%8Egc/><link rel=prev href=https://leni.fun/juc-%E7%BB%8F%E5%85%B8%E4%BB%A3%E7%A0%81/><link rel=next href=https://leni.fun/leetcode-%E5%85%B8%E4%B8%AD%E5%85%B8/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"🚩JVM与GC","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/leni.fun\/jvm%E4%B8%8Egc\/"},"genre":"posts","keywords":"Java","wordcount":2569,"url":"https:\/\/leni.fun\/jvm%E4%B8%8Egc\/","datePublished":"2023-04-08T08:08:08+08:00","dateModified":"2023-04-08T08:08:08+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"都将会"},"description":"Java 进阶必经之路"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/ title><img loading=lazy src=/images/icon.png srcset="/images/icon.png, /images/icon.png 1.5x, /images/icon.png 2x" sizes=auto data-title=/images/icon.png data-alt=/images/icon.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>都将会</span></a><span id=typeit-header-subtitle-desktop class="typeit header-subtitle"></span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 技术</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li></ul></li><li class=menu-item><a class=menu-link href=/life/><i class="fa-solid fa-camera-alt fa-fw fa-sm" aria-hidden=true></i> 生活</a></li><li class=menu-item><a class=menu-link href=/friends/><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=关键词搜索 id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title><img loading=lazy src=/images/icon.png srcset="/images/icon.png, /images/icon.png 1.5x, /images/icon.png 2x" sizes=auto data-title=/images/icon.png data-alt=/images/icon.png class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>都将会</span></a><span id=typeit-header-subtitle-mobile class="typeit header-subtitle"></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=关键词搜索 id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> 技术</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li></ul></li><li class=menu-item><a class=menu-link href=/life/><i class="fa-solid fa-camera-alt fa-fw fa-sm" aria-hidden=true></i> 生活</a></li><li class=menu-item><a class=menu-link href=/friends/><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> 关于</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/ title>主页</a></li><li class=breadcrumb-item><a href=/posts/ title=Posts>Posts</a></li><li class="breadcrumb-item active" aria-current=page>🚩JVM与GC</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>🚩JVM与GC</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><img loading=lazy src=/images/avatar.jpg srcset="/images/avatar.jpg, /images/avatar.jpg 1.5x, /images/avatar.jpg 2x" sizes=auto data-title=都将会 data-alt=都将会 class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;都将会</span></span>
<span class=post-category>收录于 <a href=/categories/interview/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> interview</a></span></div><div class=post-meta-line><span title="发布于 2023-04-08 08:08:08"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2023-04-08>2023-04-08</time></span>&nbsp;<span title="更新于 2023-04-08 08:08:08"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2023-04-08>2023-04-08</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 2569 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 6 分钟</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title=🚩JVM与GC>
<i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;次阅读
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#jvm-内存模型>JVM 内存模型</a></li><li><a href=#stw为什么需要停顿所有的java执行线程呢>STW为什么需要停顿所有的Java执行线程呢？</a></li><li><a href=#g1-gc的好处>G1 GC的好处？</a></li><li><a href=#java常见的垃圾收集器和对应的gc-算法>🌟Java常见的垃圾收集器和对应的GC 算法？</a><ul><li><a href=#gc过程>GC过程</a></li></ul></li><li><a href=#什么是内存溢出和内存泄漏>什么是内存溢出和内存泄漏？</a></li><li><a href=#jvm-调优工具>🌟JVM 调优工具</a></li></ul></li></ul></nav></div></div><div class=content id=content><h3 id=jvm-内存模型>JVM 内存模型</h3><p><a class=lightgallery href=https://publicpictures.oss-cn-hangzhou.aliyuncs.com/img/2023/08/08/b23b6419e33c312db14b55a082edbad5.png data-thumbnail=https://publicpictures.oss-cn-hangzhou.aliyuncs.com/img/2023/08/08/b23b6419e33c312db14b55a082edbad5.png data-sub-html="<h2>image.png</h2>"><img loading=lazy src=https://publicpictures.oss-cn-hangzhou.aliyuncs.com/img/2023/08/08/b23b6419e33c312db14b55a082edbad5.png srcset="https://publicpictures.oss-cn-hangzhou.aliyuncs.com/img/2023/08/08/b23b6419e33c312db14b55a082edbad5.png, https://publicpictures.oss-cn-hangzhou.aliyuncs.com/img/2023/08/08/b23b6419e33c312db14b55a082edbad5.png 1.5x, https://publicpictures.oss-cn-hangzhou.aliyuncs.com/img/2023/08/08/b23b6419e33c312db14b55a082edbad5.png 2x" sizes=auto data-title=image.png data-alt=image.png style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></a></p><ul><li>堆（Heap）：线程共享。所有的对象实例以及数组都要在堆上分配。 GC 主要管理的对象。<ul><li>新生代（1/3）<ul><li>eden（8/10），可以通过 <code>-XXSurvivorRatio</code> 调整，默认 8</li><li>from、to 区域（各 1/10）</li><li>TLAB：Thread Local Allocation Buffer，为每个线程分配的一个私有缓存区域，否则，多线程同时分配内存时，为避免操作同一地址，可能需要使用加锁等机制，进而影响分配速度（start、top、end）</li></ul></li><li>老年代 （2/3）<ul><li>大对象</li><li>长生命周期对象，<code>-XX:MaxTenuringThreshold</code>调整，默认 15，取值 0～15</li><li>from+to 空间不足</li></ul></li><li>OutOfMemoryError：堆空间不足，调整 Xmx</li><li>-Xms 初始堆空间，-Xmx 堆空间上限，建议设置相等（物理内存的 1/4），在考虑其他项目的内存使用情况时，尽量大。</li></ul></li><li>🌟方法区（Method Area）：线程共享。存储类信息、<strong>常量、静态变量</strong>、JIT编译器编译后的代码，JVM 启动时创建，关闭时释放<ul><li>jdk 7 位于永久代，jdk8 移动到了 metaspace 元空间，防止内存溢出。</li><li>OutOfMemoryError：Metaspace</li><li>运行时常量池：常量池中的符号地址（#1、#2..）变为真实地址</li></ul></li><li>虚拟机栈（JVM Stack）：线程私有，由多个栈帧组成。存储局部变量表、<strong>方法</strong>、<strong>对象指针</strong>。<ul><li>如果局部变量引用的对象，并逃离方法的作用范围，需要考虑线程安全。</li><li>StackOverFlowError：递归调用导致栈帧过多 or 栈帧过大。</li><li>-Xss 128k（默认 1M，太大了）</li></ul></li><li>本地方法栈（Native Method Stack）：线程私有。为虚拟机使用到的<strong>Native 方法</strong>服务。如Java使用c或者c++编写的接口服务时，代码在此区运行。</li><li>程序计数器（Program Counter Register）：线程私有，指向下一条要执行的（字节码）指令。</li><li>【不由 JVM 管理】直接内存：是 JVM 的系统内存，在 NIO 操作时，用于<strong>数据缓冲区</strong>，它分配回收成本高，读写性能高（少一次缓冲区复制）。</li></ul><h3 id=stw为什么需要停顿所有的java执行线程呢>STW为什么需要停顿所有的Java执行线程呢？</h3><ol><li>确保<strong>一致性快照</strong>，让整个执行系统看起来像冻结在某个时间点上了，如果出现分析过程中对象引用关系还在不断变化，则分享结果的准确性是无法保证的。</li><li>STW事件和采用哪款GC无关，所有的GC都是有这个事件</li><li>越优秀，回收效率越高的垃圾回收器，<strong>尽可能地缩短暂停时间</strong>。</li><li>STW是JVM在后台自动发起和自动完成的。是在用户不可见的情况下，把用户正常的线程全部停掉，再去把不用的对象都干掉。</li></ol><h3 id=g1-gc的好处>G1 GC的好处？</h3><p><code>-xx:+UseG1GC</code>
优势：</p><ol><li><strong>并行与并发 - 多个垃圾收集线程同时工作（并行）</strong>，垃圾收集线程与用户线程交替执行（并发），分成三个阶段：<ol><li>年轻代垃圾回收</li><li>并发标记</li><li><strong>混合收集（Eden + from -> to，old -> old&rsquo;）</strong></li></ol></li><li><strong>分代收集 - <strong><code>G1</code><strong>将堆空间划分为若干个区域(</strong><code>Region</code></strong>)</strong>，每个区域都可以充当 eden、s0、s1 和 humongous（大对象），<strong>它不要求年轻代，老年代是连续的</strong>。<ol><li>mixed gc：部分区域，G1 特有</li><li>minor gc：新生代，时间短（STW）</li><li>full gc：新生代+老年代，时间长（STW）</li></ol></li><li><strong>复制算法</strong>：<code>G1</code>内存回收使用<code>Region</code>作为基本单位，对内存空间进行整理。</li><li>可预测的停顿时间模型 - 可以让用户明确指定在一个长度为<code>M</code>毫秒的时间片段内，消耗在垃圾收集上的时间不得超过<code>N</code>毫秒。</li></ol><p>缺点：相比于<strong>CMS</strong>，G1还不具备全方位、压倒性优势。比如，G1为了垃圾收集产生的<code>内存占用</code>以及程序运行时的额外执行负载都比CMS要高。</p><h3 id=java常见的垃圾收集器和对应的gc-算法>🌟Java常见的垃圾收集器和对应的GC 算法？</h3><p>可达性分析：以 GC Root 为起点，标记出所有要<strong>回收</strong>的对象，然后进行清除。</p><table><thead><tr><th>GC</th><th>新生代</th><th>老年代</th><th>特点</th></tr></thead><tbody><tr><td>SerialGC（JDK1.2 默认）</td><td>复制算法</td><td></td><td></td></tr><tr><td>优点：高效、无碎片，</td><td></td><td></td><td></td></tr><tr><td>缺点：内存利用率低</td><td>标记-整理，无内存碎片</td><td>适用于单核 CPU</td><td></td></tr><tr><td>ParallelGC（JDK1.3默认）</td><td></td><td></td><td>高吞吐量，新老年代GC 并行执行</td></tr><tr><td>CMS GC（JDK5 引入）</td><td></td><td>标记-清除，高效，</td><td></td></tr><tr><td>但出现内存碎片化问题</td><td>低延迟，因为使用了增量标记和并发标记来减少 STW 时间</td><td></td><td></td></tr><tr><td>G1（Garbage 1st，JDK9 默认）</td><td>region 之间复制，不要求年轻代、老年代是连续的</td><td></td><td>兼顾吞吐量和延迟</td></tr><tr><td>ZGC（JDK11 引入）</td><td>复制</td><td>标记-整理，着色指针+读屏障技术</td><td>通过<strong>着色指针和读屏障技术</strong>，解决了转移过程中准确访问对象的问题，使得 GC 最大停顿时间不超过 10ms，但仅支持 Linux 64 位平台</td></tr></tbody></table><p>ZGC 的<code>着色指针</code>使用一个额外的标记位来标记对象是否存活，将其存储在对象头中的 unused_bits 字段中，可以<strong>快速标记对象存活信息</strong>，实现内存压缩和快速的垃圾回收；<code>**读屏障技术**</code>在对象引用读取时进行内存屏障，可以<strong>减少STW 时间</strong>，提高应用程序的性能和可靠性。</p><blockquote><p><strong>Minor/Young + Major = Full GC</strong></p></blockquote><h4 id=gc过程>GC过程</h4><ol><li>Java 应用不断创建对象，通常都是分配在 Eden 区域，当其空间占用达到一定阈值时，触发 minor GC。仍然被引用的对象存活下来，被复制到 JVM 选择的 Survivor 区域，而没有被引用的对象则被回收。</li><li>经过一次 Minor GC，Eden 就会空闲下来，直到再次达到 Minor GC 触发条件，这时候，另外一个 Survivor 区域则会成为 to 区域，Eden 区域的存活对象和 From 区域对象，都会被复制到 to 区域，并且存活的年龄计数会被加 1。</li><li>类似第二步的过程会发生很多次，直到有对象年龄计数达到阈值，这时候就会发生所谓的晋升（Promotion）过程，超过阈值的对象会被晋升到老年代。</li></ol><h3 id=什么是内存溢出和内存泄漏>什么是内存溢出和内存泄漏？</h3><ul><li><code>内存溢出 Out Of Memory</code>，是指程序在申请内存时，没有足够的内存空间供其使用，出现out of memory；比如申请了一个integer,但给它存了long才能存下的数，那就是内存溢出。可能原因：<ul><li><strong>虚拟机栈</strong>：StackOverFlowError，<strong>递归</strong>方法死循</li><li><strong>元空间方法区</strong>：OutOfMemoryError：Metaspace<ul><li>反射类加载，动态代理生成的类加载</li><li>启动参数内存值设定得过小</li></ul></li><li><strong>堆</strong>：OutOfMemoryError，用 <strong>jmap + VisualVM</strong> 排查，或设置启动参数输出日志。<ul><li>内存中加载的数据量过于庞大，如一次从数据库取出过多数据</li><li>集合类中有对对象的引用，使用完后未清空，使得JVM不能回收</li></ul></li></ul></li><li><code>内存泄露 memory leak</code>，是指程序在申请内存后，无法释放已申请的内存空间，当一个对象不再被使用时，如果没有及时将其引用置为 null 或者手动释放，会导致应用程序崩溃、性能下降、数据丢失等<strong>严重后果</strong>。<ul><li>e.g. ThreadLocal 没有及时调用 remove（）</li></ul></li></ul><h3 id=jvm-调优工具>🌟JVM 调优工具</h3><ul><li>看堆信息<ul><li><code>jmap -heap &lt;pid></code></li></ul></li><li>生成快照 dump 文件（保存线程、堆栈调用、异常信息），可以用 VisualVM 去加载 xxx.hprof 文件<ul><li><code>jmap -dump:format=b,file=heap.hprof &lt;pid></code></li></ul></li><li><strong>垃圾回收统计</strong><ul><li><code>jstat -gc &lt;pid></code> 使用量（<code>-gcutil</code> 关注使用率）</li></ul></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2023-04-08 08:08:08">更新于 2023-04-08&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://leni.fun/jvm%E4%B8%8Egc/ data-title=🚩JVM与GC><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/java/ class=post-tag>Java</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/juc-%E7%BB%8F%E5%85%B8%E4%BB%A3%E7%A0%81/ class=post-nav-item rel=prev title="🚩JUC 经典代码"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>🚩JUC 经典代码</a>
<a href=/leetcode-%E5%85%B8%E4%B8%AD%E5%85%B8/ class=post-nav-item rel=next title="🚩LeetCode 典中典">🚩LeetCode 典中典<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line copyright order-5" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2021 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=/>都将会</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://beian.miit.gov.cn target=_blank>浙ICP备2023023782号</a></span></div><div class="footer-line statistics"><span class=site-time title=网站运行中……><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i><span class="run-times ms-1">网站运行中……</span></span></div><div class="footer-line visitor order-4"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div></div><a href=https://github.com/hihihiman/hihihiman.github.io title=博客源码 target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;bottom:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><link rel=stylesheet href=/lib/pace/themes/pink/pace-theme-center-atom.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/fuse/fuse.min.js defer></script><script src=/lib/lightgallery/lightgallery.min.js defer></script><script src=/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/typeit/index.umd.js defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script src=/lib/pace/pace.min.js async defer></script><script>window.config={autoBookmark:!0,code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:1024},comment:{enable:!1},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"typeit-header-subtitle-desktop":"的博客           ","typeit-header-subtitle-mobile":"的博客           "},enablePWA:!0,lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},pangu:{enable:!0,selector:"article"},search:{distance:100,findAllMatches:!1,highlightTag:"em",ignoreFieldNorm:!0,ignoreLocation:!0,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:50,threshold:.3,useExtendedSearch:!0},siteTime:"2021-08-26T23:31:00+08:00",typeit:{cursorChar:"_",cursorSpeed:1e3,data:{"typeit-header-subtitle-desktop":["typeit-header-subtitle-desktop"],"typeit-header-subtitle-mobile":["typeit-header-subtitle-mobile"]},duration:-1,loop:!0,speed:150}}</script><script src=/js/theme.min.js defer></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js></script><script type=text/javascript src=/js/custom.js></script></body></html>